"use strict";var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(t,r,a){if(r)e(t.prototype,r);if(a)e(t,a);return t}}();var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _exenv=require("exenv");var _exenv2=_interopRequireDefault(_exenv);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function _inherits(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var Breadcrumbs=function(e){_inherits(t,e);function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.displayName="Breadcrumbs";return e}_createClass(t,[{key:"_getDisplayName",value:function r(e){console.log("Getdisplayname",e);var t=null;if(typeof e.getDisplayName==="function"){t=e.getDisplayName()}if(e.indexRoute){t=t||e.indexRoute.displayName||null}else{t=t||e.displayName||null}if(!t&&!!e.name){t=e.name}if(!t&&this.props.displayMissing){t=this.props.displayMissingText}return t}},{key:"_resolveRouteName",value:function a(e){var t=this._getDisplayName(e);if(!t&&e.breadcrumbName)t=e.breadcrumbName;if(!t&&e.name)t=e.name;return t}},{key:"_processRoute",value:function s(e,t,r,a,p){var i=this;if(!e.path&&this.props.hideNoPath)return null;var n="";var o="";var u="";var l=this._resolveRouteName(e);if(l&&"excludes"in this.props&&this.props.excludes.some(function(e){return e===l}))return null;var c=true;if(c){c=e.childRoutes?true:false;c=t!==r+1}n=t!==r+1?this.props.separator:"";if(!c)n="";if(e.hasOwnProperty("breadcrumblink")){c=e.breadcrumblink}if(this.props.params){o=Object.keys(this.props.params).map(function(e){u=e;return i.props.params[e]})}var f=e.path.split("/")[e.path.split("/").length-1];var h=void 0;e.path.split("/").map(function(t){if(t.substring(0,1)==":"){if(i.props.params){h=Object.keys(i.props.params).map(function(e){return i.props.params[e]});var r=e.path.split("/").map(function(e){if(e.substring(0,1)==":"){return h.shift()}else{return e}});e.path=r.reduce(function(e,t){return e+"/"+t});if(!e.staticName&&f.substring(0,1)==":")l=r.reduce(function(e,t){return t});if(typeof e.prettifyParam==="function"){l=e.prettifyParam(l)}}}});if(l){if(this.props.prettify){console.log("prettifying");l=l.replace(/-/g," ");l=l.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}var m=this.props.itemClass;if(c){var d=!p?l:_react2.default.createElement(_reactRouter.Link,{to:e.path},l)}else{d=l;m+=" "+this.props.activeItemClass}return!p?d:_react2.default.createElement(this.props.itemElement,{className:m,key:Math.random()*100},d,n)}return null}},{key:"_buildRoutes",value:function p(e,t){var r=this;var a=[];var s=e[1]&&e[1].hasOwnProperty("path");var p="/";var i=[];e.forEach(function(e,t){var a=Object.assign({},e);if(typeof e.prettifyParam==="function"){a.prettifyParam=e.prettifyParam}if("props"in a&&"path"in a.props){a.path=a.props.path;a.children=a.props.children;a.name=a.props.name;a.prettifyParam=a.props.prettifyParam}if(a.path){if(a.path.charAt(0)==="/"){p=a.path}else{if(p.charAt(p.length-1)!=="/"){p+="/"}p+=a.path}}if(0<t&&a.path&&a.path.charAt(0)!=="/"){a.path=p}var s=r._resolveRouteName(a);if((r.props.displayMissing||s)&&a.path&&!("excludes"in r.props&&r.props.excludes.some(function(e){return e===s})))i.push(a)});e=i;e.map(function(i,n){if(!i)return null;if("props"in i&&"path"in i.props){i.path=i.props.path;i.children=i.props.children;i.name=i.props.name}if(i.path){if(i.path.charAt(0)==="/"){p=i.path}else{if(p.charAt(p.length-1)!=="/"){p+="/"}p+=i.path}}if(0<n&&i.path&&i.path.charAt(0)!=="/"){i.path=p}var o=r._processRoute(i,e.length,a.length,s,t);if(o){a.push(o)}});if(_exenv2.default.canUseDOM){if(window&&window.document){if("setDocumentTitle"in this.props&&this.props.setDocumentTitle){window.document.title=a[a.length-1].props.children[0]}}}return!t?a:_react2.default.createElement(this.props.wrapperElement,{className:this.props.customClass||this.props.wrapperClass},a)}},{key:"render",value:function i(){return this._buildRoutes(this.props.routes,this.props.createElement)}}]);return t}(_react2.default.Component);Breadcrumbs.propTypes={separator:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.element,_react2.default.PropTypes.string]),createElement:_react2.default.PropTypes.bool,displayMissing:_react2.default.PropTypes.bool,prettify:_react2.default.PropTypes.bool,displayMissingText:_react2.default.PropTypes.string,displayName:_react2.default.PropTypes.string,breadcrumbName:_react2.default.PropTypes.string,wrapperElement:_react2.default.PropTypes.string,wrapperClass:_react2.default.PropTypes.string,itemElement:_react2.default.PropTypes.string,itemClass:_react2.default.PropTypes.string,customClass:_react2.default.PropTypes.string,activeItemClass:_react2.default.PropTypes.string,excludes:_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.string),hideNoPath:_react2.default.PropTypes.bool,routes:_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.object).isRequired,setDocumentTitle:_react2.default.PropTypes.bool};Breadcrumbs.defaultProps={separator:" > ",createElement:true,displayMissing:true,displayMissingText:"Missing name prop from Route",wrapperElement:"div",wrapperClass:"breadcrumbs",itemElement:"span",itemClass:"",activeItemClass:"",excludes:[""],prettify:false,hideNoPath:true,setDocumentTitle:false};Breadcrumbs.contextTypes={routes:_react2.default.PropTypes.array,params:_react2.default.PropTypes.array};module.exports=Breadcrumbs;
//# sourceMappingURL=dist/react-breadcrumbs.min.js.map